{"ast":null,"code":"import axios from \"axios\";\nimport { getToken } from \"./authService\";\n\n// Função para criar uma instância do axios com a URL base configurável\nconst createApiInstance = (baseURL = \"http://localhost:3001/\") => {\n  const api = axios.create({\n    baseURL: baseURL\n  });\n\n  // Intercepta todas as requisições e adiciona o token no cabeçalho Authorization\n  api.interceptors.request.use(config => {\n    const token = getToken(); // Pega o token do localStorage\n    console.log(\"Token para requisição:\", token); // Verifique o valor do token\n\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`; // Adiciona o token no cabeçalho\n    }\n    return config;\n  }, error => Promise.reject(error));\n  return api;\n};\nexport default createApiInstance;","map":{"version":3,"names":["axios","getToken","createApiInstance","baseURL","api","create","interceptors","request","use","config","token","console","log","headers","Authorization","error","Promise","reject"],"sources":["/home/kauan/CU/orion_teste/orion-front/src/services/apiService.js"],"sourcesContent":["import axios from \"axios\";\nimport { getToken } from \"./authService\";\n\n// Função para criar uma instância do axios com a URL base configurável\nconst createApiInstance = (baseURL = \"http://localhost:3001/\") => {\n  const api = axios.create({\n    baseURL: baseURL,\n  });\n\n  // Intercepta todas as requisições e adiciona o token no cabeçalho Authorization\n  api.interceptors.request.use(\n    (config) => {\n      const token = getToken(); // Pega o token do localStorage\n      console.log(\"Token para requisição:\", token); // Verifique o valor do token\n\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`; // Adiciona o token no cabeçalho\n      }\n      return config;\n    },\n    (error) => Promise.reject(error)\n  );\n\n  return api;\n};\n\nexport default createApiInstance;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,eAAe;;AAExC;AACA,MAAMC,iBAAiB,GAAGA,CAACC,OAAO,GAAG,wBAAwB,KAAK;EAChE,MAAMC,GAAG,GAAGJ,KAAK,CAACK,MAAM,CAAC;IACvBF,OAAO,EAAEA;EACX,CAAC,CAAC;;EAEF;EACAC,GAAG,CAACE,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;IACV,MAAMC,KAAK,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC;IAC1BU,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,KAAK,CAAC,CAAC,CAAC;;IAE9C,IAAIA,KAAK,EAAE;MACTD,MAAM,CAACI,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE,CAAC,CAAC;IACpD;IACA,OAAOD,MAAM;EACf,CAAC,EACAM,KAAK,IAAKC,OAAO,CAACC,MAAM,CAACF,KAAK,CACjC,CAAC;EAED,OAAOX,GAAG;AACZ,CAAC;AAED,eAAeF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}